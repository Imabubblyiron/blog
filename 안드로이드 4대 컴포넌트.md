# 안드로이드 4대 컴포넌트

각 컴포넌트는 하나의 독립된 형태로 존재
각각의 컴포넌트는 인텐트를 사이에 두고 통신을 함.


### Activity

 - 사용자에게 UI가 있는 화면을 제공하는 앱 컴포넌트
 - User Interface 화면을 가지며 특정한 작업을 담당
 - Activity는 생명주기(LifeCycle)를 가짐
 - 소스코드에서 Activity클래스를 상속해야 하고 생명주기 메소드를 재정의하여 원하는 기능을 구현하는 방식으로 사용할수 있음
 - 대부분의 사람들이 제일 익숙해하는 컴포넌트
 - 안드로이드 어플리케이션은 반드시 한개 이상의 Activity로 이루어져야 함
 - 두개의 Activity를 동시에 화면에 나타나게 할 수는 없음(Fragment 이용 가능)
 - Activity 내에 Fragment를 추가하여 화면을 분할하여 별도로 조작 가능
 - Activity를 호출할 때에는 Intent를 사용하며 호출된 Activity는 Task에 쌓이게 됨
 - 다른 어플리케이션과 상호작용 가능
 - 여러 View와 Event들로 구성되고 직접 배치하고 커스텀 할 수 있음
 - 각 Activity는 Manifest 파일에 등록되어 있어야 사용 가능(Application Launcher에 의해 호출됨)
 

### Service
 
 - 백그라운드에서 실행되는 프로세스
 - 액티비티와 다르게 화면이 존재하지 않음
 - 모든 서비스를 커스텀할때는 Service클래스를 상속하여 사용함
 - Activity와 마찬가지로 Manifest 파일에 등록해야 사용이 가능함
 - 한 번 시작된 서비스는 애플리케이션이 종료되어도 계속 실행되고 있음
 - 구현 방식으로는 StartService, BindService방식으로 나누어짐
 - StartService방식은 한 프로세스 안에서 컴포넌트 사이에서 유기적인 역할을 함
 - BindService방식은 여러프로세스 간에서 유기적인 역할을 함

1) startService 

onCreate() : 서비스가 생성될 때 가장 먼저 호출되는 콜백 메서드로, 서비스 자신의 초기 설정함
onStartCommand() : startService()를 호출하면 이 콜백 메서드가 호출이 됩니다. 이 부분에서 Intent를 전달받음
-START_NOT_STICKY : 시스템이 서비스를 강제 종료할 때 다시 재생성되지 않음
-START_STICKY : 시스템이 서비스를 강제 종료 할 시 재생성함
-START_REDELIVER_INTENT : 시스템이 서비스를 강제 종료할 시 재생성하고 onStartCommand()를 호출 및 마지막 Intent를 전달함
onDestroy() : 서비스가 소멸될 때 호출이 되는 콜백 메서드로, stopSelf()를 호출하거나 작업이 끝나면 호출됨

2) BindService

onCreate() : 서비스가 생성될 때 가장 먼저 호출되는 콜백 메서드로, 서비스 자신의 초기 설정함
onBind() : bindServie()를 호출하면 호출이 되는 콜백 메서드로, 이 메서드에서 클라이언트가 서비스와 상호작용하는 데 사용되는 IBinder 객체를 반환하고 사용하지 않는다면 null을 반환 함
onUnbind() : 바인딩 된 모든 요소가 끊어지면 호출이 되며, 기본 구현은 아무것도 하지않고 false를 반환함
onDestroy() : 서비스가 소멸될 때 호출이 되는 콜백 메서드로, 바인딩된 모든 요소들이 바인딩을 해제하면 호출 됨


### Content Provider
 
 - 데이터를 관리하고 다른 어플리케이션 데이터를 제공해주는 컴포넌트
 - 다른 어플리케이션과의 DB를 공유하기 위해 사용
 - 어플리케이션 간 데이터 공유를 위해 표준화된 인터페이스를 제공하는 컴포넌트
 - 데이터는 파일 시스템이나 SQLite DB, 웹 또는 영구적인 저장소 위치 중 앱이 액세스 할 수 있는 곳이라면 어디에든 저장할 수 있음
 - CRUD(create, read, update, delete) 원칙을 준수
 - 작은 데이터들은 Intent로 어플리케이션 끼리 공유 가능
 - Content Provider를 통해서 다른 어플리 케이션의 데이터를 쿼리하거나 변경 가능
 
 
 ### Broadcast Receiver
 
 - 기기 안에서 이루어지는 수많은 일들을 대신해서 알려줌
 - 안드로이드에서 다양한 이벤트와 정보를 받아오는 컴포넌트
 - 시스템 범위의 브로드캐스트 알림에 응답
 - UI가 대부분 존재하지 않음
 - 브로드캐스팅 메시지를 방송수신자라는 어플리케이션의 구성요소를 이용해 받을 수 있음
 - 디바이스에서 발생하는 일 중에서 어플리케이션이 알아야 하는 상황이 발생할때 알려줌
 - 수신기를 통해 디바이스의 상황을 감지하고 적절한 작업을 수행
 - 서비스를 시작하여 이벤트를 근거로 한 어떤 작업을 수행하도록 할 수 있음
 - 구현하기 위한 방법중 코드상으로 등록하는 동적인 방법과 Manifest 파일에 등록하는 정적인 방법이 있음
 
 
추가적으로 Intent는 앞서 말한 4대 컴포넌트 사이들을 오가면서 data를 주고받고 통신 할 수 있도록 도와줌
명시적 Intent - 대상 컴포넌트가 정해져 있는 경우 사용
암시적 Intent - 대상 컴포넌트가 확실치 않은 상황에서, 어떠한 타입과 액션을 하는지에 대해 추론하여 통신을 가능하게 함
